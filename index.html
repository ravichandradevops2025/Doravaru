<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doravaru - Professional Trading Platform</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ“Š</text></svg>">
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-spinner"></div>
        <p>Loading Professional Trading Platform...</p>
    </div>

    <nav class="navbar">
        <div class="nav-brand">
            <h1>Doravaru</h1>
            <span class="nav-subtitle">Professional Trading Platform</span>
        </div>
        <div class="nav-status">
            <div id="connection-status" class="status-indicator connected">
                <div class="status-dot"></div>
                <span>Market Data Connected</span>
            </div>
            <div class="market-time" id="market-time">NSE: OPEN</div>
        </div>
    </nav>

    <div class="platform-container">
        <!-- Left Sidebar -->
        <aside class="sidebar">
            <div class="watchlist-section">
                <h3>Watchlist</h3>
                <div class="symbol-grid" id="watchlist">
                    <div class="symbol-card active" data-symbol="NIFTY">
                        <div class="symbol-name">NIFTY 50</div>
                        <div class="symbol-price" id="price-NIFTY">25,420.45</div>
                        <div class="symbol-change positive" id="change-NIFTY">+0.85%</div>
                    </div>
                    <div class="symbol-card" data-symbol="BANKNIFTY">
                        <div class="symbol-name">BANK NIFTY</div>
                        <div class="symbol-price" id="price-BANKNIFTY">55,715.15</div>
                        <div class="symbol-change positive" id="change-BANKNIFTY">+1.12%</div>
                    </div>
                    <div class="symbol-card" data-symbol="RELIANCE">
                        <div class="symbol-name">RELIANCE</div>
                        <div class="symbol-price" id="price-RELIANCE">1,424.00</div>
                        <div class="symbol-change negative" id="change-RELIANCE">-0.45%</div>
                    </div>
                    <div class="symbol-card" data-symbol="TCS">
                        <div class="symbol-name">TCS</div>
                        <div class="symbol-price" id="price-TCS">4,087.30</div>
                        <div class="symbol-change positive" id="change-TCS">+2.15%</div>
                    </div>
                </div>
            </div>

            <div class="portfolio-summary">
                <h3>Portfolio</h3>
                <div class="portfolio-metrics">
                    <div class="metric">
                        <label>Total Value</label>
                        <span class="value">â‚¹1,00,000</span>
                    </div>
                    <div class="metric">
                        <label>P&L Today</label>
                        <span class="value positive">+â‚¹2,450</span>
                    </div>
                    <div class="metric">
                        <label>Available Margin</label>
                        <span class="value">â‚¹97,550</span>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="chart-section">
                <div class="chart-header">
                    <h2 id="chart-title">NIFTY 50 - Live Chart</h2>
                    <div class="chart-controls">
                        <button class="time-frame active" data-frame="1m">1M</button>
                        <button class="time-frame" data-frame="5m">5M</button>
                        <button class="time-frame" data-frame="15m">15M</button>
                        <button class="time-frame" data-frame="1h">1H</button>
                        <button class="time-frame" data-frame="1d">1D</button>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="tradingChart" width="800" height="400"></canvas>
                </div>
                <div class="price-bar">
                    <div class="current-price" id="currentPrice">25,420.45</div>
                    <div class="price-change positive" id="priceChange">+215.75 (+0.85%)</div>
                    <div class="volume">Volume: <span id="volume">2.1M</span></div>
                </div>
            </div>

            <div class="analysis-section">
                <div class="technical-indicators">
                    <h3>Technical Analysis</h3>
                    <div class="indicators-grid">
                        <div class="indicator">
                            <label>RSI (14)</label>
                            <span id="rsi" class="neutral">58.4</span>
                        </div>
                        <div class="indicator">
                            <label>MACD</label>
                            <span id="macd" class="bullish">Bullish</span>
                        </div>
                        <div class="indicator">
                            <label>SMA 20</label>
                            <span id="sma20">25,185.30</span>
                        </div>
                        <div class="indicator">
                            <label>Support</label>
                            <span id="support">25,250.00</span>
                        </div>
                        <div class="indicator">
                            <label>Resistance</label>
                            <span id="resistance">25,580.00</span>
                        </div>
                    </div>
                </div>

                <div class="signal-generator">
                    <h3>AI Trading Signals</h3>
                    <button id="generateSignal" class="generate-btn">Generate Professional Signal</button>
                    <div id="signalResult" class="signal-result"></div>
                </div>
            </div>
        </main>

        <!-- Right Panel -->
        <aside class="right-panel">
            <div class="market-depth">
                <h3>Market Depth</h3>
                <div class="depth-table">
                    <div class="depth-header">
                        <span>Bid Qty</span>
                        <span>Bid</span>
                        <span>Ask</span>
                        <span>Ask Qty</span>
                    </div>
                    <div id="marketDepth" class="depth-rows">
                        <!-- Populated by JavaScript -->
                    </div>
                </div>
            </div>

            <div class="news-feed">
                <h3>Market News</h3>
                <div class="news-items">
                    <div class="news-item">
                        <span class="news-time">10:45</span>
                        <p>FII net buying â‚¹2,450 crores in cash segment</p>
                        <span class="sentiment bullish">Bullish</span>
                    </div>
                    <div class="news-item">
                        <span class="news-time">10:30</span>
                        <p>Banking index shows strong momentum</p>
                        <span class="sentiment bullish">Bullish</span>
                    </div>
                    <div class="news-item">
                        <span class="news-time">10:15</span>
                        <p>Global markets mixed on Fed concerns</p>
                        <span class="sentiment neutral">Neutral</span>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <div class="disclaimer-banner">
        <p><strong>Risk Disclaimer:</strong> Trading involves substantial risk. Past performance does not guarantee future results. Please trade responsibly.</p>
    </div>

    <script src="trading-engine.js"></script>
    <script src="chart-renderer.js"></script>
    <script src="signal-analyzer.js"></script>
    <script src="app.js"></script>
</body>
</html>